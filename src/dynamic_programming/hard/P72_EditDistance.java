package dynamic_programming.hard;

/**
 * ç¼–è¾‘è·ç¦»
 * <a href="https://leetcode.cn/problems/edit-distance/">ğŸ”—</a>
 *
 * ç»™ä½ ä¸¤ä¸ªå•è¯Â word1 å’ŒÂ word2ï¼Œ è¯·è¿”å›å°†Â word1Â è½¬æ¢æˆÂ word2 æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•° Â ã€‚
 *
 * ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š
 *
 * æ’å…¥ä¸€ä¸ªå­—ç¬¦
 * åˆ é™¤ä¸€ä¸ªå­—ç¬¦
 * æ›¿æ¢ä¸€ä¸ªå­—ç¬¦
 * Â 
 *
 * ç¤ºä¾‹Â 1ï¼š
 *
 * è¾“å…¥ï¼šword1 = "horse", word2 = "ros"
 * è¾“å‡ºï¼š3
 * è§£é‡Šï¼š
 * horse -> rorse (å°† 'h' æ›¿æ¢ä¸º 'r')
 * rorse -> rose (åˆ é™¤ 'r')
 * rose -> ros (åˆ é™¤ 'e')
 * ç¤ºä¾‹Â 2ï¼š
 *
 * è¾“å…¥ï¼šword1 = "intention", word2 = "execution"
 * è¾“å‡ºï¼š5
 * è§£é‡Šï¼š
 * intention -> inention (åˆ é™¤ 't')
 * inention -> enention (å°† 'i' æ›¿æ¢ä¸º 'e')
 * enention -> exention (å°† 'n' æ›¿æ¢ä¸º 'x')
 * exention -> exection (å°† 'n' æ›¿æ¢ä¸º 'c')
 * exection -> execution (æ’å…¥ 'u')
 * Â 
 *
 * æç¤ºï¼š
 *
 * 0 <= word1.length, word2.length <= 500
 * word1 å’Œ word2 ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
 *
 * @author chengzhy
 * @date 2022/3/18 11:08
 */
public class P72_EditDistance {

    public int minDistance(String word1, String word2) {
        int length1 = word1.length(), length2 = word2.length();
        // dp[i][j]æ•°ç»„è¡¨ç¤ºword1çš„å‰iä¸ªå­—æ¯è½¬å˜æˆword2çš„å‰jä¸ªå­—æ¯æ‰€éœ€è¦çš„æœ€å°æ“ä½œæ•°
        int[][] dp = new int[length1 + 1][length2 + 1];
        // åˆå§‹åŒ–dp[i][0]æƒ…å†µï¼Œå³word1çš„å‰iä¸ªå­—æ¯å˜æˆword2çš„å‰0ä¸ªå­—æ¯(å³å˜æˆç©º)æ‰€éœ€è¦çš„æœ€å°æ“ä½œæ•°
        for (int i = 0; i <= length1; i++) {
            // æ­¤ç§æƒ…å†µçš„æœ€å°æ“ä½œæ•°å³ä¸ºåˆ é™¤å‰iä¸ªå­—æ¯çš„æ•°é‡
            dp[i][0] = i;
        }
        // åˆå§‹åŒ–dp[0][j]æƒ…å†µï¼Œå³word1çš„å‰0ä¸ªå­—æ¯(å³ç©ºæ·»åŠ å­—æ¯)å˜æˆword2çš„å‰jä¸ªå­—æ¯æ‰€éœ€è¦çš„æœ€å°æ“ä½œæ•°
        for (int j = 0; j <= length2; j++) {
            // æ­¤ç§æƒ…å†µçš„æœ€å°æ“ä½œæ•°å³ä¸ºæ·»åŠ å‰jä¸ªå­—æ¯çš„æ•°é‡
            dp[0][j] = j;
        }
        for (int i = 1; i <= length1; i++) {
            for (int j = 1; j <= length2; j++) {
                /**
                 * å¦‚æœword1çš„ç¬¬iä¸ªå­—æ¯å’Œword2çš„ç¬¬jä¸ªå­—æ¯ç›¸ç­‰
                 * åˆ™æ‰€éœ€è¦çš„æœ€å°æ“ä½œæ•°æ˜¯word1çš„å‰i - 1ä¸ªå­—æ¯å˜æˆword2çš„å‰j - 1ä¸ªå­—æ¯çš„æœ€å°æ“ä½œæ•°
                 * å³dp[i][j] = dp[i - 1][j - 1];
                 */
                if (word1.charAt(i - 1) == word2.charAt(j - 1)) {
                    dp[i][j] = dp[i - 1][j - 1];
                } else {
                    /**
                     * å¦‚æœword1çš„ç¬¬iä¸ªå­—æ¯å’Œword2çš„ç¬¬jä¸ªå­—æ¯ä¸ç›¸ç­‰
                     * é‚£ä¹ˆå–å¢åˆ æ›¿æ“ä½œçš„æœ€å°å€¼+1
                     * å¢å¯¹åº”dp[i][j - 1] + 1ï¼Œè¡¨ç¤ºword1çš„å‰iä¸ªå­—æ¯åªå˜æˆäº†word2çš„å‰j - 1ä¸ªå­—æ¯ï¼Œæ‰€ä»¥éœ€è¦å¢åŠ ä¸€ä¸ªå­—æ¯
                     * åˆ å¯¹åº”dp[i - 1][j] + 1ï¼Œè¡¨ç¤ºword1çš„å‰i - 1ä¸ªå­—æ¯å˜æˆäº†word2çš„å‰jä¸ªå­—æ¯ï¼Œéœ€è¦åˆ é™¤å¤šä½™çš„word1çš„ç¬¬iä¸ªå­—æ¯
                     * æ›¿å¯¹åº”dp[i - 1][j - 1] + 1ï¼Œè¡¨ç¤ºword1çš„å‰i - 1ä¸ªå­—æ¯å˜æˆäº†word2çš„å‰j - 1ä¸ªå­—æ¯ï¼Œå‰©ä¸‹ä¸€ä½åªéœ€æ›¿æ¢å³å¯
                     */
                    dp[i][j] = 1 + Math.min(Math.min(dp[i][j - 1], dp[i - 1][j]), dp[i - 1][j - 1]);
                }
            }
        }
        return dp[length1][length2];
    }

}
