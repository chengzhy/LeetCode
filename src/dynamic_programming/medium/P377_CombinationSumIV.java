package dynamic_programming.medium;

/**
 * ç»„åˆæ€»å’Œ â…£
 * <a href="https://leetcode.cn/problems/combination-sum-iv/">ğŸ”—</a>
 *
 * ç»™ä½ ä¸€ä¸ªç”± ä¸åŒ æ•´æ•°ç»„æˆçš„æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ã€‚è¯·ä½ ä» nums ä¸­æ‰¾å‡ºå¹¶è¿”å›æ€»å’Œä¸º target çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚
 *
 * é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½æ•´æ•°èŒƒå›´ã€‚
 *
 * Â 
 *
 * ç¤ºä¾‹ 1ï¼š
 *
 * è¾“å…¥ï¼šnums = [1,2,3], target = 4
 * è¾“å‡ºï¼š7
 * è§£é‡Šï¼š
 * æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
 * (1, 1, 1, 1)
 * (1, 1, 2)
 * (1, 2, 1)
 * (1, 3)
 * (2, 1, 1)
 * (2, 2)
 * (3, 1)
 * è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚
 * ç¤ºä¾‹ 2ï¼š
 *
 * è¾“å…¥ï¼šnums = [9], target = 3
 * è¾“å‡ºï¼š0
 * Â 
 *
 * æç¤ºï¼š
 *
 * 1 <= nums.length <= 200
 * 1 <= nums[i] <= 1000
 * nums ä¸­çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ
 * 1 <= target <= 1000
 * Â 
 *
 * è¿›é˜¶ï¼šå¦‚æœç»™å®šçš„æ•°ç»„ä¸­å«æœ‰è´Ÿæ•°ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿé—®é¢˜ä¼šäº§ç”Ÿä½•ç§å˜åŒ–ï¼Ÿå¦‚æœå…è®¸è´Ÿæ•°å‡ºç°ï¼Œéœ€è¦å‘é¢˜ç›®ä¸­æ·»åŠ å“ªäº›é™åˆ¶æ¡ä»¶ï¼Ÿ
 *
 * @author chengzhy
 * @date 2022/4/12 9:53
 */
public class P377_CombinationSumIV {

    public int combinationSum4(int[] nums, int target) {
        int m = nums.length;
        // dp[i][j]æ•°ç»„è¡¨ç¤ºåœ¨å‰iä¸ªnumsä¸­ä»»å–æ•°ï¼Œèƒ½å‡‘æˆæ€»å’Œä¸ºjçš„å…ƒç´ ç»„åˆä¸ªæ•°
        int[][] dp = new int[m + 1][target + 1];
        // åˆå§‹åŒ–è¾¹ç•Œå€¼
        for (int i = 0; i <= m; i++) {
            dp[i][0] = 1;
        }
        // æ³¨æ„è¿™é‡Œçš„éå†é¡ºåºï¼Œè¦å…ˆéå†èƒŒåŒ…ï¼Œå†éå†ç‰©å“ï¼Œè¿™æ ·å°±æ˜¯æ±‚æ’åˆ—æ•°(é¡ºåºä¸åŒ)
        for (int j = 1; j <= target; j++) {
            for (int i = 1; i <= m; i++) {
                // ä»ç¬¬ä¸€ä¸ªæ•°å¼€å§‹åˆ°ç¬¬iä¸ªæ•°ä¸­ä»»å–
                for (int k = 1; k <= i; k++) {
                    if (j >= nums[k - 1]) {
                        // è¡¨ç¤ºæœ€åé€‰å–çš„æ•°ä¸ºnums[k - 1]çš„ç»„åˆæ•°æ¥è¿›è¡Œç´¯åŠ 
                        dp[i][j] += dp[i][j - nums[k - 1]];
                    }
                }
            }
        }
        /*dp[0][0] = 1;
        for (int i = 1; i <= m; i++) {
            for (int j = 0; j <= target; j++) {
                if (j < nums[i - 1]) {
                    dp[i][j] = dp[i - 1][j];
                } else {
                    *//**
                     * æ³¨æ„é¢˜ç›®è¯´é¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆ
                     * æ‰€ä»¥å¯¹dp[i][j]è€Œè¨€ï¼Œç»„åˆä¸­çš„æœ€åä¸€ä¸ªæ•°å­—å¯ä»¥é€‰æ‹©numsä¸­çš„ä»»æ„æ•°å€¼
                     * æœ€åä¸€ä¸ªæ•°é€‰nums[0], ç»„åˆæ•°ä¸ºdp[i][j - nums[0]]
                     * æœ€åä¸€ä¸ªæ•°é€‰nums[1], ç»„åˆæ•°ä¸ºdp[i][j - nums[1]]
                     * ...
                     * dp[i][j] = ä»¥ä¸Šç»„åˆæ•°ç›¸åŠ (æ³¨æ„j >= nums[i])
                     *//*
                    for (int k = 1; k <= i; k++) {
                        if (j >= nums[k - 1]) {
                            dp[i][j] += dp[i][j - nums[k - 1]];
                        }
                    }
                }
            }
        }*/
        return dp[m][target];
        // äºŒç»´dpæ•°ç»„ä¼˜åŒ–æˆä¸€ç»´dpæ•°ç»„
        /*int[] dp = new int[target + 1];
        dp[0] = 1;
        for (int j = 1; j <= target; j++) {
            // è¿™é‡Œå®é™…ä¸Šçœç•¥äº†ä¸Šé¢ä¸‰å±‚å¾ªç¯çš„ç¬¬äºŒå±‚å¾ªç¯
            for (int i = 1; i <= m; i++) {
                if (j >= nums[i - 1]) {
                    dp[j] += dp[j - nums[i - 1]];
                }
            }
        }
        return dp[target];*/
    }

}
