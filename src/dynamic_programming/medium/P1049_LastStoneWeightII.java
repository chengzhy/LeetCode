package dynamic_programming.medium;

/**
 * æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II
 * <a href="https://leetcode-cn.com/problems/last-stone-weight-ii/">ğŸ”—</a>
 *
 * æœ‰ä¸€å †çŸ³å¤´ï¼Œç”¨æ•´æ•°æ•°ç»„Â stones è¡¨ç¤ºã€‚å…¶ä¸­Â stones[i] è¡¨ç¤ºç¬¬ i å—çŸ³å¤´çš„é‡é‡ã€‚
 *
 * æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡ºä»»æ„ä¸¤å—çŸ³å¤´ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸ºÂ x å’ŒÂ yï¼Œä¸”Â x <= yã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š
 *
 * å¦‚æœÂ x == yï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›
 * å¦‚æœÂ x != yï¼Œé‚£ä¹ˆé‡é‡ä¸ºÂ xÂ çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸ºÂ yÂ çš„çŸ³å¤´æ–°é‡é‡ä¸ºÂ y-xã€‚
 * æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å— çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´ æœ€å°çš„å¯èƒ½é‡é‡ ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› 0ã€‚
 *
 * Â 
 *
 * ç¤ºä¾‹ 1ï¼š
 *
 * è¾“å…¥ï¼šstones = [2,7,4,1,8,1]
 * è¾“å‡ºï¼š1
 * è§£é‡Šï¼š
 * ç»„åˆ 2 å’Œ 4ï¼Œå¾—åˆ° 2ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,7,1,8,1]ï¼Œ
 * ç»„åˆ 7 å’Œ 8ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [2,1,1,1]ï¼Œ
 * ç»„åˆ 2 å’Œ 1ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1,1,1]ï¼Œ
 * ç»„åˆ 1 å’Œ 1ï¼Œå¾—åˆ° 0ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [1]ï¼Œè¿™å°±æ˜¯æœ€ä¼˜å€¼ã€‚
 * ç¤ºä¾‹ 2ï¼š
 *
 * è¾“å…¥ï¼šstones = [31,26,33,21,40]
 * è¾“å‡ºï¼š5
 * Â 
 *
 * æç¤ºï¼š
 *
 * 1 <= stones.length <= 30
 * 1 <= stones[i] <= 100
 *
 * @author chengzhy
 * @date 2022/4/7 11:47
 */
public class P1049_LastStoneWeightII {

    public int lastStoneWeightII(int[] stones) {
        int weight = 0;
        for (int stone : stones) {
            weight += stone;
        }
        /**
         * å‚è€ƒä»£ç éšæƒ³å½•é¢˜è§£ï¼šæ­¤é¢˜å’Œé¢˜416æ€è·¯ä¸€æ ·ï¼Œæœ¬è´¨ä¸Šæ˜¯å°½é‡è®©çŸ³å¤´åˆ†æˆé‡é‡ç›¸åŒçš„ä¸¤å †ï¼Œ
         * ç›¸æ’ä¹‹åå‰©ä¸‹çš„çŸ³å¤´æœ€å°ï¼Œæ‰€ä»¥èƒŒåŒ…å®¹é‡è®¾ä¸ºçŸ³å¤´æ€»é‡é‡çš„ä¸€åŠ(çŸ³å¤´æ€»é‡é‡ä¸ºå¥‡æ•°æ—¶é™¤ä»¥2åˆšå¥½æ˜¯å‘ä¸‹å–æ•´)
         * æ­¤é¢˜ç›®å°±ç›¸å½“äºè½¬æ¢æˆæ±‚èƒŒåŒ…å®¹é‡ä¸ºçŸ³å¤´æ€»é‡é‡çš„ä¸€åŠæ—¶æ€ä¹ˆè£…çŸ³å¤´æ‰èƒ½æœ€æ¥è¿‘è£…æ»¡
         * å› ä¸ºçŸ³å¤´çš„ä»·å€¼å°±æ˜¯çŸ³å¤´çš„é‡é‡ï¼Œæ‰€ä»¥å®¹é‡ä¸ºjçš„èƒŒåŒ…æ‰€èƒ½æ”¾çš„çŸ³å¤´çš„æœ€å¤§ä»·å€¼dp[j]ä¸€å®šæ˜¯â‰¤jçš„
         */
        // èƒŒåŒ…å®¹é‡ä¸ºçŸ³å¤´æ€»é‡é‡çš„ä¸€åŠ
        int bagWeight = weight >> 1;
        // dp[j]æ•°ç»„è¡¨ç¤ºå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œèƒ½å¤ŸèƒŒdp[j]è¿™ä¹ˆå¤šä»·å€¼çš„çŸ³å¤´
        int[] dp = new int[bagWeight + 1];
        for (int i = 0; i < stones.length; i++) {
            for (int j = bagWeight; j >= stones[i]; j--) {
                dp[j] = Math.max(dp[j], dp[j - stones[i]] + stones[i]);
            }
        }
        // è¿”å›å·®å€¼
        return weight - (dp[bagWeight] << 1);
    }

}
